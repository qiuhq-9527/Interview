# 前端开发任务列表 (Next.js + ConnectRPC 计算器)

## 项目搭建与配置

- [ ] 初始化 Next.js 项目 (已完成，假设)
- [ ] 安装 ConnectRPC 相关依赖 (`@connectrpc/connect`, `@connectrpc/connect-web`, `@bufbuild/protoc-gen-es`, `@bufbuild/protobuf`)
- [ ] 配置 ConnectRPC 代码生成 (e.g., using `buf.gen.yaml` or script)
- [ ] 从后端 `proto` 文件生成 ConnectRPC 客户端代码
- [ ] 配置 Tailwind CSS (检查是否已配置)

## MVVM 架构实现

- [ ] **Model**: 定义计算器状态相关的类型 (Input, Operation, State)
- [ ] **View**: 创建主页面组件 (`src/app/page.tsx`)
- [ ] **ViewModel**: 创建 `useCalculatorViewModel` 自定义 Hook 管理状态和逻辑

## UI 组件开发

- [ ] 创建 `Display` 组件 (显示屏)
- [ ] 创建可复用的 `Button` 组件 (数字、操作符、功能键)
- [ ] 创建 `CalculatorLayout` 组件 (整体布局)
- [ ] 组合组件到主页面 (`page.tsx`)

## 核心逻辑实现 (ViewModel)

- [ ] 处理数字按钮点击逻辑
- [ ] 处理操作符按钮 (+, -, ×, ÷) 点击逻辑
- [ ] 处理等号 (=) 按钮点击逻辑 (触发后端调用)
- [ ] 处理功能按钮 (AC, +/-, %) 点击逻辑
- [ ] 实现状态更新逻辑 (当前输入、累加值、操作符)

## ConnectRPC 集成

- [ ] 创建 ConnectRPC 客户端实例
- [ ] 在 ViewModel 中实现调用后端 `Calculate` RPC 的函数
- [ ] 处理后端返回的成功结果
- [ ] 处理后端返回的错误信息 (如除零)

## 样式与交互

- [ ] 使用 Tailwind CSS 实现仿苹果计算器 UI 样式
- [ ] 调整按钮颜色、形状和布局
- [ ] 实现显示屏的样式
- [ ] 优化用户交互体验 (例如按钮按下效果)

## 测试与完善

- [ ] 添加基本的 UI 测试 (可选)
- [ ] 手动测试各种计算场景和边界条件
- [ ] 代码审查与重构
- [ ] 更新 README.md 文档 